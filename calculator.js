function calc(){const age=+document.getElementById('age').value;const gender=document.getElementById('gender').value;const h=+document.getElementById('height').value;const w=+document.getElementById('weight').value;const act=+document.getElementById('activity').value;if(!age||!h||!w){alert('Please fill all fields');return;}const bmr=gender==='Male'?(10*w+6.25*h-5*age+5):(10*w+6.25*h-5*age-161);const tdee=Math.round(bmr*act);const carbs=Math.round((tdee*0.50)/4);const protein=Math.round((tdee*0.20)/4);const fat=Math.round((tdee*0.30)/9);document.getElementById('bmr').textContent=Math.round(bmr);document.getElementById('tdee').textContent=tdee;const setBar=(id,val)=>{const el=document.getElementById(id);el.style.width=Math.min(100,(val/(tdee/4))*100)+'%';};setBar('carbBar',carbs);setBar('proteinBar',protein);setBar('fatBar',fat);document.getElementById('carbText').textContent=carbs+' g';document.getElementById('proteinText').textContent=protein+' g';document.getElementById('fatText').textContent=fat+' g';document.getElementById('results').style.display='block';}
document.getElementById('calcBtn').addEventListener('click',calc);